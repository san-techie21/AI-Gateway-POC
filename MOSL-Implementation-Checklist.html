<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Gateway Implementation Checklist | MOSL</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            color: #333;
            line-height: 1.6;
            font-size: 14px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 40px;
        }
        .header {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #1e3a5f 0%, #2d5a8a 100%);
            color: white;
            margin: -40px -40px 30px -40px;
        }
        .header h1 { font-size: 28px; margin-bottom: 10px; }
        .header p { opacity: 0.9; }
        .badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            margin-bottom: 15px;
        }

        /* Floating Action Buttons */
        .floating-actions {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 1000;
        }
        .action-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.2);
        }
        .btn-save {
            background: #059669;
            color: white;
        }
        .btn-download {
            background: #2d5a8a;
            color: white;
        }
        .btn-clear {
            background: #dc2626;
            color: white;
        }
        .btn-print {
            background: #7c3aed;
            color: white;
        }

        /* Auto-save indicator */
        .autosave-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #059669;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 13px;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1000;
        }
        .autosave-indicator.show {
            opacity: 1;
        }

        /* Progress bar */
        .progress-container {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: #e5e7eb;
            z-index: 1001;
        }
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #059669, #10b981);
            width: 0%;
            transition: width 0.3s;
        }
        .progress-text {
            position: fixed;
            top: 8px;
            left: 20px;
            font-size: 12px;
            color: #666;
            background: white;
            padding: 4px 12px;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            z-index: 1001;
        }

        section {
            margin-bottom: 35px;
            padding-bottom: 25px;
            border-bottom: 1px solid #eee;
        }
        h2 {
            color: #1e3a5f;
            font-size: 20px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #e8a838;
            display: inline-block;
        }
        h3 {
            color: #2d5a8a;
            font-size: 16px;
            margin: 20px 0 15px 0;
        }
        .intro-box {
            background: #e8f4fd;
            border-left: 4px solid #2d5a8a;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        .checklist-group {
            background: #fafafa;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        .checklist-item {
            display: flex;
            align-items: flex-start;
            margin: 12px 0;
            padding: 8px 0;
        }
        .checkbox {
            width: 22px;
            height: 22px;
            border: 2px solid #ccc;
            border-radius: 4px;
            margin-right: 12px;
            flex-shrink: 0;
            margin-top: 2px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        .checkbox:hover {
            border-color: #2d5a8a;
        }
        .checkbox.checked {
            background: #059669;
            border-color: #059669;
        }
        .checkbox.checked::after {
            content: '‚úì';
            color: white;
            font-weight: bold;
            font-size: 14px;
        }
        .checkbox-label { flex: 1; }
        .sub-options {
            margin-left: 32px;
            padding: 10px 0;
        }
        .sub-option {
            display: flex;
            align-items: center;
            margin: 8px 0;
            cursor: pointer;
        }
        .sub-option:hover .sub-checkbox {
            border-color: #2d5a8a;
        }
        .sub-checkbox {
            width: 18px;
            height: 18px;
            border: 2px solid #ddd;
            border-radius: 3px;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        .sub-checkbox.checked {
            background: #2d5a8a;
            border-color: #2d5a8a;
        }
        .sub-checkbox.checked::after {
            content: '‚úì';
            color: white;
            font-size: 12px;
        }
        .text-input {
            display: block;
            width: 100%;
            padding: 10px;
            margin-top: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: inherit;
            font-size: 14px;
        }
        .text-input:focus {
            outline: none;
            border-color: #2d5a8a;
            box-shadow: 0 0 0 3px rgba(45,90,138,0.1);
        }
        textarea.text-input {
            resize: vertical;
            min-height: 80px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 13px;
        }
        th {
            background: #1e3a5f;
            color: white;
            padding: 12px 10px;
            text-align: left;
        }
        td {
            padding: 12px 10px;
            border-bottom: 1px solid #eee;
        }
        tr:nth-child(even) { background: #fafafa; }
        td input[type="text"] {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 13px;
        }
        td input[type="text"]:focus {
            outline: none;
            border-color: #2d5a8a;
        }
        .highlight-box {
            background: #fff9e6;
            border: 1px solid #e8a838;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .highlight-box h4 {
            color: #c48a20;
            margin-bottom: 10px;
        }
        .critical {
            background: #fef2f2;
            border-left: 4px solid #dc2626;
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }
        .critical-label {
            color: #dc2626;
            font-weight: 600;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .footer {
            text-align: center;
            padding: 30px;
            background: #f5f5f5;
            margin: 30px -40px -40px -40px;
        }
        .footer p { color: #666; font-size: 13px; }
        ul { margin: 10px 0 10px 20px; }
        li { margin: 5px 0; }
        .note {
            font-size: 13px;
            color: #666;
            font-style: italic;
            margin-top: 5px;
        }

        /* Print styles */
        @media print {
            .floating-actions, .progress-container, .progress-text, .autosave-indicator { display: none !important; }
            body { background: white; }
            .container { padding: 20px; max-width: 100%; box-shadow: none; }
            .header { margin: -20px -20px 20px -20px; padding: 20px; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
            section { page-break-inside: avoid; }
            .checkbox.checked, .sub-checkbox.checked { background: #059669 !important; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
            .text-input { border: 1px solid #999; }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .floating-actions {
                position: fixed;
                bottom: 0;
                top: auto;
                left: 0;
                right: 0;
                flex-direction: row;
                justify-content: center;
                background: white;
                padding: 10px;
                box-shadow: 0 -4px 12px rgba(0,0,0,0.1);
            }
            .action-btn {
                padding: 10px 15px;
                font-size: 12px;
            }
            .container { padding: 20px; }
            .header { margin: -20px -20px 20px -20px; }
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>
    <div class="progress-text" id="progressText">0% Complete</div>

    <!-- Floating Action Buttons -->
    <div class="floating-actions">
        <button class="action-btn btn-save" onclick="saveProgress()">
            <span>üíæ</span> Save Progress
        </button>
        <button class="action-btn btn-download" onclick="downloadResponses()">
            <span>üì•</span> Download Responses
        </button>
        <button class="action-btn btn-print" onclick="window.print()">
            <span>üñ®Ô∏è</span> Print / PDF
        </button>
        <button class="action-btn btn-clear" onclick="clearForm()">
            <span>üóëÔ∏è</span> Clear All
        </button>
    </div>

    <!-- Auto-save indicator -->
    <div class="autosave-indicator" id="autosaveIndicator">‚úì Auto-saved</div>

    <div class="container">
        <header class="header">
            <div class="badge">Confidential</div>
            <h1>AI Gateway Implementation Checklist</h1>
            <p>Information Required for Production Deployment</p>
            <p style="margin-top: 15px; font-size: 12px; opacity: 0.8;">February 2026</p>
        </header>

        <div class="intro-box">
            <strong>Instructions:</strong>
            <ul>
                <li>Click checkboxes to select options</li>
                <li>Fill in text fields with your details</li>
                <li>Progress is <strong>auto-saved</strong> in your browser</li>
                <li>Click <strong>"Download Responses"</strong> to get a summary file to share</li>
                <li>Or use <strong>"Print / PDF"</strong> to save as PDF</li>
            </ul>
        </div>

        <!-- Section A -->
        <section>
            <h2>Section A: Infrastructure & Cloud</h2>

            <h3>A1. Cloud Environment</h3>
            <div class="checklist-group">
                <div class="checklist-item">
                    <div class="checkbox" data-field="a1_answered" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>Primary cloud provider:</strong>
                        <div class="sub-options">
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="cloud_azure"></div> Microsoft Azure</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="cloud_aws"></div> Amazon Web Services (AWS)</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="cloud_gcp"></div> Google Cloud Platform (GCP)</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="cloud_onprem"></div> On-premise data center only</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="cloud_hybrid"></div> Hybrid</div>
                        </div>
                        <input type="text" class="text-input" data-field="cloud_details" placeholder="If hybrid or other, please specify...">
                    </div>
                </div>

                <div class="checklist-item">
                    <div class="checkbox" data-field="a1b_answered" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>Do you have Azure OpenAI or AWS Bedrock in India region?</strong>
                        <div class="sub-options">
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="ai_azure_india"></div> Yes - Azure OpenAI (Mumbai/Pune)</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="ai_aws_india"></div> Yes - AWS Bedrock (Mumbai)</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="ai_none"></div> No - Will need to provision</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="ai_unsure"></div> Not sure</div>
                        </div>
                    </div>
                </div>

                <div class="checklist-item">
                    <div class="checkbox" data-field="a1c_answered" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>For Secure Mode (local LLM), do you have GPU servers?</strong>
                        <div class="sub-options">
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="gpu_a100"></div> Yes - NVIDIA A100/H100</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="gpu_other"></div> Yes - Other GPU</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="gpu_none"></div> No - Will need to procure</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="gpu_cloud"></div> Can use cloud GPU instances</div>
                        </div>
                        <input type="text" class="text-input" data-field="gpu_details" placeholder="GPU details if available...">
                    </div>
                </div>
            </div>

            <h3>A2. Database</h3>
            <div class="checklist-group">
                <div class="checklist-item">
                    <div class="checkbox" data-field="a2_answered" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>Preferred database for audit logs (5-year retention required):</strong>
                        <div class="sub-options">
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="db_sqlserver"></div> Microsoft SQL Server</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="db_postgres"></div> PostgreSQL</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="db_mongodb"></div> MongoDB</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="db_oracle"></div> Oracle</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="db_cloud"></div> Azure Cosmos DB / AWS DynamoDB</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="db_other"></div> Other</div>
                        </div>
                        <input type="text" class="text-input" data-field="db_details" placeholder="Database details or other...">
                    </div>
                </div>
            </div>
        </section>

        <!-- Section B -->
        <section>
            <h2>Section B: Authentication & Access Control</h2>

            <h3>B1. Identity Provider</h3>
            <div class="checklist-group">
                <div class="checklist-item">
                    <div class="checkbox" data-field="b1_answered" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>Primary authentication system:</strong>
                        <div class="sub-options">
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="auth_ad_onprem"></div> Microsoft Active Directory (On-prem)</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="auth_azure_ad"></div> Azure Active Directory (Entra ID)</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="auth_okta"></div> Okta</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="auth_ping"></div> Ping Identity</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="auth_other"></div> Other</div>
                        </div>
                        <input type="text" class="text-input" data-field="auth_details" placeholder="If other, please specify...">
                    </div>
                </div>

                <div class="checklist-item">
                    <div class="checkbox" data-field="b1b_answered" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>SSO protocol supported:</strong>
                        <div class="sub-options">
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="sso_saml"></div> SAML 2.0</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="sso_oauth"></div> OAuth 2.0 / OpenID Connect</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="sso_kerberos"></div> Kerberos</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="sso_ldap"></div> LDAP</div>
                        </div>
                    </div>
                </div>
            </div>

            <h3>B2. User Roles & Access Levels</h3>
            <div class="checklist-group">
                <p>Please indicate access levels for each role (Yes / No / Limited):</p>
                <table>
                    <tr>
                        <th>Role</th>
                        <th>External AI Access</th>
                        <th>Local LLM Access</th>
                        <th>Admin Dashboard</th>
                    </tr>
                    <tr>
                        <td>General Employee</td>
                        <td><input type="text" data-field="role_general_external"></td>
                        <td><input type="text" data-field="role_general_local"></td>
                        <td><input type="text" data-field="role_general_admin"></td>
                    </tr>
                    <tr>
                        <td>Research Analyst</td>
                        <td><input type="text" data-field="role_research_external"></td>
                        <td><input type="text" data-field="role_research_local"></td>
                        <td><input type="text" data-field="role_research_admin"></td>
                    </tr>
                    <tr>
                        <td>Strategy Team</td>
                        <td><input type="text" data-field="role_strategy_external"></td>
                        <td><input type="text" data-field="role_strategy_local"></td>
                        <td><input type="text" data-field="role_strategy_admin"></td>
                    </tr>
                    <tr>
                        <td>Compliance Team</td>
                        <td><input type="text" data-field="role_compliance_external"></td>
                        <td><input type="text" data-field="role_compliance_local"></td>
                        <td><input type="text" data-field="role_compliance_admin"></td>
                    </tr>
                    <tr>
                        <td>IT Admin</td>
                        <td><input type="text" data-field="role_itadmin_external"></td>
                        <td><input type="text" data-field="role_itadmin_local"></td>
                        <td><input type="text" data-field="role_itadmin_admin"></td>
                    </tr>
                    <tr>
                        <td>Security Team</td>
                        <td><input type="text" data-field="role_security_external"></td>
                        <td><input type="text" data-field="role_security_local"></td>
                        <td><input type="text" data-field="role_security_admin"></td>
                    </tr>
                </table>

                <div class="checklist-item" style="margin-top: 20px;">
                    <div class="checkbox" data-field="b2_adgroups" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>AD Group names to map (if any):</strong>
                        <input type="text" class="text-input" data-field="ad_groups" placeholder="e.g., CN=Research_Analysts,OU=Groups,DC=mosl,DC=com">
                    </div>
                </div>
            </div>
        </section>

        <!-- Section C - Critical -->
        <section>
            <h2>Section C: Sensitive Data Patterns</h2>

            <div class="critical">
                <div class="critical-label">Critical for Compliance</div>
                <p>These patterns are used to detect and block/route sensitive data. Accurate formats are essential for SEBI/RBI compliance.</p>
            </div>

            <h3>C1. Client Identifiers</h3>
            <div class="checklist-group">
                <div class="checklist-item">
                    <div class="checkbox" data-field="c1_clientcode" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>Client Code format:</strong>
                        <input type="text" class="text-input" data-field="client_code_format" placeholder="Format pattern, e.g., ABC12345">
                        <input type="text" class="text-input" data-field="client_code_example" placeholder="Example (use dummy):">
                    </div>
                </div>

                <div class="checklist-item">
                    <div class="checkbox" data-field="c1_demat" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>Demat Account format:</strong>
                        <input type="text" class="text-input" data-field="demat_format" placeholder="Format pattern">
                        <input type="text" class="text-input" data-field="demat_example" placeholder="Example (use dummy):">
                    </div>
                </div>

                <div class="checklist-item">
                    <div class="checkbox" data-field="c1_trading" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>Trading Account format:</strong>
                        <input type="text" class="text-input" data-field="trading_format" placeholder="Format pattern">
                    </div>
                </div>

                <div class="checklist-item">
                    <div class="checkbox" data-field="c1_ucc" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>UCC (Unique Client Code) format:</strong>
                        <input type="text" class="text-input" data-field="ucc_format" placeholder="Format pattern">
                    </div>
                </div>
            </div>

            <h3>C2. Internal References</h3>
            <div class="checklist-group">
                <div class="checklist-item">
                    <div class="checkbox" data-field="c2_empid" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>Employee ID format:</strong>
                        <input type="text" class="text-input" data-field="employee_id_format" placeholder="e.g., MO12345, EMP-XXXXX">
                    </div>
                </div>

                <div class="checklist-item">
                    <div class="checkbox" data-field="c2_project" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>Internal project/cost center codes:</strong>
                        <input type="text" class="text-input" data-field="project_codes" placeholder="Format pattern">
                    </div>
                </div>

                <div class="checklist-item">
                    <div class="checkbox" data-field="c2_systems" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>Internal system names to protect:</strong>
                        <input type="text" class="text-input" data-field="internal_systems" placeholder="e.g., internal trading system names, product names">
                    </div>
                </div>
            </div>

            <h3>C3. UPSI Keywords</h3>
            <div class="checklist-group">
                <p><strong>Standard UPSI terms (pre-configured):</strong></p>
                <ul>
                    <li>merger, acquisition, demerger, amalgamation</li>
                    <li>quarterly results, financial results, earnings</li>
                    <li>dividend declaration</li>
                    <li>change in capital structure, buyback</li>
                    <li>board meeting (in financial context)</li>
                </ul>

                <div class="checklist-item" style="margin-top: 15px;">
                    <div class="checkbox" data-field="c3_upsi" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>Additional UPSI-related terms specific to MOSL:</strong>
                        <textarea class="text-input" data-field="upsi_additional" rows="3" placeholder="Any additional sensitive terms..."></textarea>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section D -->
        <section>
            <h2>Section D: Compliance & Audit</h2>

            <h3>D1. Regulatory Requirements</h3>
            <div class="checklist-group">
                <p><strong>Which regulations must the system satisfy?</strong></p>
                <div class="sub-options">
                    <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox checked" data-field="reg_sebi_ai"></div> SEBI AI/ML Guidelines 2025 (Pre-selected)</div>
                    <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox checked" data-field="reg_sebi_pit"></div> SEBI PIT Regulations 2015 (Pre-selected)</div>
                    <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox checked" data-field="reg_rbi"></div> RBI Data Localization (Pre-selected)</div>
                    <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox checked" data-field="reg_dpdpa"></div> DPDPA 2023 (Pre-selected)</div>
                    <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="reg_fiu"></div> FIU-IND Reporting</div>
                    <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="reg_iso27001"></div> ISO 27001</div>
                    <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="reg_soc2"></div> SOC 2</div>
                    <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="reg_other"></div> Other</div>
                </div>
                <input type="text" class="text-input" data-field="reg_other_details" placeholder="Any other specific compliance requirements...">
            </div>

            <h3>D2. Audit Log Configuration</h3>
            <div class="checklist-group">
                <div class="checklist-item">
                    <div class="checkbox" data-field="d2_retention" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>Log retention period:</strong>
                        <input type="text" class="text-input" data-field="log_retention_years" placeholder="Years (SEBI requires minimum 5)">
                    </div>
                </div>

                <div class="checklist-item">
                    <div class="checkbox" data-field="d2_storage" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>Query content storage preference:</strong>
                        <div class="sub-options">
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="log_fulltext"></div> Full text (maximum audit capability)</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="log_hashed"></div> Hashed only (privacy-preserving)</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="log_hybrid"></div> Full for blocked, hashed for allowed</div>
                        </div>
                    </div>
                </div>
            </div>

            <h3>D3. SIEM Integration</h3>
            <div class="checklist-group">
                <div class="checklist-item">
                    <div class="checkbox" data-field="d3_siem" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>Centralized logging system:</strong>
                        <div class="sub-options">
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="siem_splunk"></div> Splunk</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="siem_elk"></div> ELK Stack (Elasticsearch)</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="siem_sentinel"></div> Azure Sentinel</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="siem_qradar"></div> IBM QRadar</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="siem_other"></div> Other</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="siem_none"></div> None / Standalone sufficient</div>
                        </div>
                        <input type="text" class="text-input" data-field="siem_details" placeholder="SIEM details if applicable...">
                    </div>
                </div>
            </div>
        </section>

        <!-- Section E -->
        <section>
            <h2>Section E: Scale & Cost</h2>

            <h3>E1. User Scale</h3>
            <div class="checklist-group">
                <table>
                    <tr>
                        <td style="width:60%;"><strong>Total employees with access:</strong></td>
                        <td><input type="text" data-field="scale_total_users" placeholder="Number"></td>
                    </tr>
                    <tr>
                        <td><strong>Expected daily active users:</strong></td>
                        <td><input type="text" data-field="scale_daily_users" placeholder="Number"></td>
                    </tr>
                    <tr>
                        <td><strong>Expected queries per user per day:</strong></td>
                        <td><input type="text" data-field="scale_queries_per_user" placeholder="Number"></td>
                    </tr>
                </table>
            </div>

            <h3>E2. Budget</h3>
            <div class="checklist-group">
                <table>
                    <tr>
                        <td style="width:60%;"><strong>Monthly budget for external AI APIs:</strong></td>
                        <td>Rs. <input type="text" data-field="budget_monthly_api" placeholder="Amount"></td>
                    </tr>
                    <tr>
                        <td><strong>One-time infrastructure budget:</strong></td>
                        <td>Rs. <input type="text" data-field="budget_onetime_infra" placeholder="Amount"></td>
                    </tr>
                </table>
            </div>

            <h3>E3. Cost Optimization</h3>
            <div class="highlight-box">
                <h4>Recommended Tiered Approach for 1L+ Employees</h4>
                <table>
                    <tr>
                        <th>Tier</th>
                        <th>Use Case</th>
                        <th>Model</th>
                        <th>Est. Cost</th>
                    </tr>
                    <tr>
                        <td><strong>Default</strong></td>
                        <td>All general queries</td>
                        <td>Local Llama 4 / Qwen 2.5</td>
                        <td>Free (infra only)</td>
                    </tr>
                    <tr>
                        <td>Standard</td>
                        <td>Fast external research</td>
                        <td>Groq / Cerebras</td>
                        <td>~Rs. 0.08/query</td>
                    </tr>
                    <tr>
                        <td>Premium</td>
                        <td>Complex analysis</td>
                        <td>Azure OpenAI GPT-5</td>
                        <td>~Rs. 0.80/query</td>
                    </tr>
                    <tr>
                        <td>Research</td>
                        <td>Web search</td>
                        <td>Perplexity</td>
                        <td>~Rs. 0.40/query</td>
                    </tr>
                </table>
            </div>

            <div class="checklist-item">
                <div class="checkbox" data-field="e3_tiered_approved" onclick="toggleCheck(this)"></div>
                <div class="checkbox-label">
                    <strong>Approve tiered approach above?</strong>
                    <div class="sub-options">
                        <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="tiered_yes"></div> Yes, approved</div>
                        <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="tiered_modify"></div> Need modifications</div>
                    </div>
                    <input type="text" class="text-input" data-field="tiered_modifications" placeholder="Modifications if any...">
                </div>
            </div>
        </section>

        <!-- Section F -->
        <section>
            <h2>Section F: Deployment & Handover</h2>

            <h3>F1. Delivery Format</h3>
            <div class="checklist-group">
                <div class="checklist-item">
                    <div class="checkbox" data-field="f1_delivery" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>How should software be delivered?</strong>
                        <div class="sub-options">
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="delivery_docker"></div> Docker containers (Recommended)</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="delivery_k8s"></div> Kubernetes Helm charts</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="delivery_vm"></div> VM images (OVA/AMI)</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="delivery_source"></div> Source code + deployment scripts</div>
                        </div>
                    </div>
                </div>
            </div>

            <h3>F2. Documentation Required</h3>
            <div class="checklist-group">
                <div class="sub-options">
                    <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="doc_deployment"></div> Deployment Guide</div>
                    <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="doc_admin"></div> Admin User Manual</div>
                    <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="doc_api"></div> API Documentation</div>
                    <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="doc_security"></div> Security Architecture Document (for auditors)</div>
                    <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="doc_troubleshoot"></div> Troubleshooting Guide</div>
                    <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="doc_compliance"></div> Compliance Mapping Document</div>
                </div>
            </div>

            <h3>F3. Testing Requirements</h3>
            <div class="checklist-group">
                <div class="sub-options">
                    <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="test_vapt"></div> VAPT Report required</div>
                    <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="test_load"></div> Load Testing Results</div>
                    <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="test_uat"></div> UAT Test Cases</div>
                    <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="test_compliance"></div> Compliance Checklist</div>
                </div>
            </div>
        </section>

        <!-- Section G -->
        <section>
            <h2>Section G: Timeline</h2>

            <div class="checklist-group">
                <div class="checklist-item">
                    <div class="checkbox" data-field="g_golive" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>Expected go-live date:</strong>
                        <input type="text" class="text-input" data-field="timeline_golive" placeholder="Date (e.g., March 2026)">
                    </div>
                </div>

                <div class="checklist-item">
                    <div class="checkbox" data-field="g_deadline" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>Any regulatory deadlines?</strong>
                        <input type="text" class="text-input" data-field="timeline_deadline" placeholder="Deadline details if any...">
                    </div>
                </div>

                <div class="checklist-item">
                    <div class="checkbox" data-field="g_rollout" onclick="toggleCheck(this)"></div>
                    <div class="checkbox-label">
                        <strong>Rollout preference:</strong>
                        <div class="sub-options">
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="rollout_phased"></div> Phased (IT team ‚Üí Research ‚Üí All)</div>
                            <div class="sub-option" onclick="toggleSubCheck(this)"><div class="sub-checkbox" data-field="rollout_bigbang"></div> Big-bang (all at once)</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section H -->
        <section style="border-bottom: none;">
            <h2>Section H: Contacts</h2>

            <div class="checklist-group">
                <table>
                    <tr>
                        <td style="width:40%;"><strong>Technical Contact (Deployment):</strong></td>
                        <td><input type="text" data-field="contact_technical" placeholder="Name & Email"></td>
                    </tr>
                    <tr>
                        <td><strong>Business Contact (Requirements):</strong></td>
                        <td><input type="text" data-field="contact_business" placeholder="Name & Email"></td>
                    </tr>
                    <tr>
                        <td><strong>Compliance Contact:</strong></td>
                        <td><input type="text" data-field="contact_compliance" placeholder="Name & Email"></td>
                    </tr>
                </table>
            </div>

            <div class="checklist-item" style="margin-top: 20px;">
                <div class="checkbox" data-field="h_additional" onclick="toggleCheck(this)"></div>
                <div class="checkbox-label">
                    <strong>Any additional requirements or comments:</strong>
                    <textarea class="text-input" data-field="additional_comments" rows="4" placeholder="Additional notes..."></textarea>
                </div>
            </div>
        </section>

        <div class="intro-box" style="background: #ecfdf5; border-color: #059669;">
            <strong>Next Steps After Submission:</strong>
            <ol style="margin-top: 10px;">
                <li>Architecture finalization based on your cloud/infra choices</li>
                <li>Detection rules configuration from your data formats</li>
                <li>Production-ready software build</li>
                <li>Complete documentation package</li>
                <li>Docker/deployment package handover</li>
                <li>Remote support during deployment</li>
            </ol>
            <p style="margin-top: 15px;"><strong>Estimated delivery: 2-3 weeks after receiving complete information</strong></p>
        </div>

        <footer class="footer">
            <p>Click <strong>"Download Responses"</strong> to save your answers and share.</p>
            <p style="margin-top: 10px;">AI Gateway Implementation Checklist | February 2026</p>
        </footer>
    </div>

    <script>
        // Auto-save to localStorage
        const STORAGE_KEY = 'aigateway_checklist_data';

        // Toggle main checkbox
        function toggleCheck(el) {
            el.classList.toggle('checked');
            autoSave();
            updateProgress();
        }

        // Toggle sub checkbox
        function toggleSubCheck(el) {
            const checkbox = el.querySelector('.sub-checkbox');
            if (checkbox) {
                checkbox.classList.toggle('checked');
                autoSave();
                updateProgress();
            }
        }

        // Auto-save on input change
        document.querySelectorAll('input, textarea').forEach(input => {
            input.addEventListener('input', () => {
                autoSave();
                updateProgress();
            });
        });

        // Save all form data
        function autoSave() {
            const data = collectFormData();
            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
            showAutosaveIndicator();
        }

        function saveProgress() {
            autoSave();
            alert('Progress saved! Your data is stored in this browser and will persist when you return.');
        }

        // Show auto-save indicator
        function showAutosaveIndicator() {
            const indicator = document.getElementById('autosaveIndicator');
            indicator.classList.add('show');
            setTimeout(() => indicator.classList.remove('show'), 2000);
        }

        // Collect all form data
        function collectFormData() {
            const data = {};

            // Collect checkboxes
            document.querySelectorAll('.checkbox, .sub-checkbox').forEach(cb => {
                const field = cb.getAttribute('data-field');
                if (field) {
                    data[field] = cb.classList.contains('checked');
                }
            });

            // Collect text inputs
            document.querySelectorAll('input[data-field], textarea[data-field]').forEach(input => {
                const field = input.getAttribute('data-field');
                if (field) {
                    data[field] = input.value;
                }
            });

            return data;
        }

        // Load saved data
        function loadSavedData() {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved) {
                const data = JSON.parse(saved);

                // Restore checkboxes
                document.querySelectorAll('.checkbox, .sub-checkbox').forEach(cb => {
                    const field = cb.getAttribute('data-field');
                    if (field && data[field]) {
                        cb.classList.add('checked');
                    }
                });

                // Restore text inputs
                document.querySelectorAll('input[data-field], textarea[data-field]').forEach(input => {
                    const field = input.getAttribute('data-field');
                    if (field && data[field]) {
                        input.value = data[field];
                    }
                });

                updateProgress();
            }
        }

        // Update progress bar
        function updateProgress() {
            const allCheckboxes = document.querySelectorAll('.checkbox');
            const checkedCheckboxes = document.querySelectorAll('.checkbox.checked');
            const allInputs = document.querySelectorAll('input[data-field], textarea[data-field]');
            let filledInputs = 0;
            allInputs.forEach(input => {
                if (input.value.trim()) filledInputs++;
            });

            const totalItems = allCheckboxes.length + allInputs.length;
            const completedItems = checkedCheckboxes.length + filledInputs;
            const percentage = Math.round((completedItems / totalItems) * 100);

            document.getElementById('progressBar').style.width = percentage + '%';
            document.getElementById('progressText').textContent = percentage + '% Complete';
        }

        // Download responses as text file
        function downloadResponses() {
            const data = collectFormData();
            let content = `AI GATEWAY IMPLEMENTATION CHECKLIST - RESPONSES
================================================
Generated: ${new Date().toLocaleString()}

`;

            // Section A
            content += `\n== SECTION A: INFRASTRUCTURE & CLOUD ==\n`;
            content += `Cloud Provider:\n`;
            if (data.cloud_azure) content += `  [X] Microsoft Azure\n`;
            if (data.cloud_aws) content += `  [X] Amazon Web Services (AWS)\n`;
            if (data.cloud_gcp) content += `  [X] Google Cloud Platform (GCP)\n`;
            if (data.cloud_onprem) content += `  [X] On-premise data center\n`;
            if (data.cloud_hybrid) content += `  [X] Hybrid\n`;
            if (data.cloud_details) content += `  Details: ${data.cloud_details}\n`;

            content += `\nAzure/AWS AI in India:\n`;
            if (data.ai_azure_india) content += `  [X] Azure OpenAI (Mumbai/Pune)\n`;
            if (data.ai_aws_india) content += `  [X] AWS Bedrock (Mumbai)\n`;
            if (data.ai_none) content += `  [X] Need to provision\n`;
            if (data.ai_unsure) content += `  [X] Not sure\n`;

            content += `\nGPU Servers:\n`;
            if (data.gpu_a100) content += `  [X] NVIDIA A100/H100\n`;
            if (data.gpu_other) content += `  [X] Other GPU\n`;
            if (data.gpu_none) content += `  [X] Will need to procure\n`;
            if (data.gpu_cloud) content += `  [X] Cloud GPU instances\n`;
            if (data.gpu_details) content += `  Details: ${data.gpu_details}\n`;

            content += `\nDatabase:\n`;
            if (data.db_sqlserver) content += `  [X] SQL Server\n`;
            if (data.db_postgres) content += `  [X] PostgreSQL\n`;
            if (data.db_mongodb) content += `  [X] MongoDB\n`;
            if (data.db_oracle) content += `  [X] Oracle\n`;
            if (data.db_cloud) content += `  [X] Azure Cosmos / AWS DynamoDB\n`;
            if (data.db_other) content += `  [X] Other\n`;
            if (data.db_details) content += `  Details: ${data.db_details}\n`;

            // Section B
            content += `\n== SECTION B: AUTHENTICATION ==\n`;
            content += `Identity Provider:\n`;
            if (data.auth_ad_onprem) content += `  [X] Active Directory (On-prem)\n`;
            if (data.auth_azure_ad) content += `  [X] Azure AD (Entra ID)\n`;
            if (data.auth_okta) content += `  [X] Okta\n`;
            if (data.auth_ping) content += `  [X] Ping Identity\n`;
            if (data.auth_other) content += `  [X] Other\n`;
            if (data.auth_details) content += `  Details: ${data.auth_details}\n`;

            content += `\nSSO Protocol:\n`;
            if (data.sso_saml) content += `  [X] SAML 2.0\n`;
            if (data.sso_oauth) content += `  [X] OAuth 2.0 / OpenID Connect\n`;
            if (data.sso_kerberos) content += `  [X] Kerberos\n`;
            if (data.sso_ldap) content += `  [X] LDAP\n`;

            content += `\nUser Roles:\n`;
            content += `  General Employee - External: ${data.role_general_external || 'N/A'}, Local: ${data.role_general_local || 'N/A'}, Admin: ${data.role_general_admin || 'N/A'}\n`;
            content += `  Research Analyst - External: ${data.role_research_external || 'N/A'}, Local: ${data.role_research_local || 'N/A'}, Admin: ${data.role_research_admin || 'N/A'}\n`;
            content += `  Strategy Team - External: ${data.role_strategy_external || 'N/A'}, Local: ${data.role_strategy_local || 'N/A'}, Admin: ${data.role_strategy_admin || 'N/A'}\n`;
            content += `  Compliance Team - External: ${data.role_compliance_external || 'N/A'}, Local: ${data.role_compliance_local || 'N/A'}, Admin: ${data.role_compliance_admin || 'N/A'}\n`;
            content += `  IT Admin - External: ${data.role_itadmin_external || 'N/A'}, Local: ${data.role_itadmin_local || 'N/A'}, Admin: ${data.role_itadmin_admin || 'N/A'}\n`;
            content += `  Security Team - External: ${data.role_security_external || 'N/A'}, Local: ${data.role_security_local || 'N/A'}, Admin: ${data.role_security_admin || 'N/A'}\n`;
            if (data.ad_groups) content += `\nAD Groups: ${data.ad_groups}\n`;

            // Section C
            content += `\n== SECTION C: SENSITIVE DATA PATTERNS (CRITICAL) ==\n`;
            content += `Client Code Format: ${data.client_code_format || 'Not provided'}\n`;
            content += `Client Code Example: ${data.client_code_example || 'Not provided'}\n`;
            content += `Demat Format: ${data.demat_format || 'Not provided'}\n`;
            content += `Demat Example: ${data.demat_example || 'Not provided'}\n`;
            content += `Trading Account Format: ${data.trading_format || 'Not provided'}\n`;
            content += `UCC Format: ${data.ucc_format || 'Not provided'}\n`;
            content += `Employee ID Format: ${data.employee_id_format || 'Not provided'}\n`;
            content += `Project/Cost Center Codes: ${data.project_codes || 'Not provided'}\n`;
            content += `Internal Systems to Protect: ${data.internal_systems || 'Not provided'}\n`;
            content += `Additional UPSI Terms: ${data.upsi_additional || 'None specified'}\n`;

            // Section D
            content += `\n== SECTION D: COMPLIANCE & AUDIT ==\n`;
            content += `Regulations:\n`;
            if (data.reg_sebi_ai) content += `  [X] SEBI AI/ML Guidelines 2025\n`;
            if (data.reg_sebi_pit) content += `  [X] SEBI PIT Regulations 2015\n`;
            if (data.reg_rbi) content += `  [X] RBI Data Localization\n`;
            if (data.reg_dpdpa) content += `  [X] DPDPA 2023\n`;
            if (data.reg_fiu) content += `  [X] FIU-IND Reporting\n`;
            if (data.reg_iso27001) content += `  [X] ISO 27001\n`;
            if (data.reg_soc2) content += `  [X] SOC 2\n`;
            if (data.reg_other_details) content += `  Other: ${data.reg_other_details}\n`;

            content += `\nLog Retention: ${data.log_retention_years || 'Not specified'} years\n`;
            content += `Query Storage:\n`;
            if (data.log_fulltext) content += `  [X] Full text\n`;
            if (data.log_hashed) content += `  [X] Hashed only\n`;
            if (data.log_hybrid) content += `  [X] Hybrid (full for blocked)\n`;

            content += `\nSIEM:\n`;
            if (data.siem_splunk) content += `  [X] Splunk\n`;
            if (data.siem_elk) content += `  [X] ELK Stack\n`;
            if (data.siem_sentinel) content += `  [X] Azure Sentinel\n`;
            if (data.siem_qradar) content += `  [X] IBM QRadar\n`;
            if (data.siem_none) content += `  [X] None/Standalone\n`;
            if (data.siem_details) content += `  Details: ${data.siem_details}\n`;

            // Section E
            content += `\n== SECTION E: SCALE & COST ==\n`;
            content += `Total Users: ${data.scale_total_users || 'Not specified'}\n`;
            content += `Daily Active Users: ${data.scale_daily_users || 'Not specified'}\n`;
            content += `Queries/User/Day: ${data.scale_queries_per_user || 'Not specified'}\n`;
            content += `Monthly API Budget: Rs. ${data.budget_monthly_api || 'Not specified'}\n`;
            content += `One-time Infra Budget: Rs. ${data.budget_onetime_infra || 'Not specified'}\n`;
            content += `Tiered Approach: ${data.tiered_yes ? 'Approved' : data.tiered_modify ? 'Needs modifications' : 'Not confirmed'}\n`;
            if (data.tiered_modifications) content += `Modifications: ${data.tiered_modifications}\n`;

            // Section F
            content += `\n== SECTION F: DEPLOYMENT ==\n`;
            content += `Delivery Format:\n`;
            if (data.delivery_docker) content += `  [X] Docker containers\n`;
            if (data.delivery_k8s) content += `  [X] Kubernetes Helm\n`;
            if (data.delivery_vm) content += `  [X] VM images\n`;
            if (data.delivery_source) content += `  [X] Source code\n`;

            content += `\nDocumentation:\n`;
            if (data.doc_deployment) content += `  [X] Deployment Guide\n`;
            if (data.doc_admin) content += `  [X] Admin Manual\n`;
            if (data.doc_api) content += `  [X] API Documentation\n`;
            if (data.doc_security) content += `  [X] Security Architecture\n`;
            if (data.doc_troubleshoot) content += `  [X] Troubleshooting Guide\n`;
            if (data.doc_compliance) content += `  [X] Compliance Mapping\n`;

            content += `\nTesting:\n`;
            if (data.test_vapt) content += `  [X] VAPT Report\n`;
            if (data.test_load) content += `  [X] Load Testing\n`;
            if (data.test_uat) content += `  [X] UAT Test Cases\n`;
            if (data.test_compliance) content += `  [X] Compliance Checklist\n`;

            // Section G
            content += `\n== SECTION G: TIMELINE ==\n`;
            content += `Go-Live Date: ${data.timeline_golive || 'Not specified'}\n`;
            content += `Regulatory Deadline: ${data.timeline_deadline || 'None'}\n`;
            content += `Rollout: ${data.rollout_phased ? 'Phased' : data.rollout_bigbang ? 'Big-bang' : 'Not specified'}\n`;

            // Section H
            content += `\n== SECTION H: CONTACTS ==\n`;
            content += `Technical Contact: ${data.contact_technical || 'Not provided'}\n`;
            content += `Business Contact: ${data.contact_business || 'Not provided'}\n`;
            content += `Compliance Contact: ${data.contact_compliance || 'Not provided'}\n`;
            content += `\nAdditional Comments:\n${data.additional_comments || 'None'}\n`;

            content += `\n================================================
END OF CHECKLIST RESPONSES
`;

            // Download
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `AI_Gateway_Checklist_Responses_${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Clear all data
        function clearForm() {
            if (confirm('Are you sure you want to clear all responses? This cannot be undone.')) {
                localStorage.removeItem(STORAGE_KEY);
                document.querySelectorAll('.checkbox, .sub-checkbox').forEach(cb => {
                    cb.classList.remove('checked');
                });
                document.querySelectorAll('input[data-field], textarea[data-field]').forEach(input => {
                    input.value = '';
                });
                // Re-check pre-selected items
                ['reg_sebi_ai', 'reg_sebi_pit', 'reg_rbi', 'reg_dpdpa'].forEach(field => {
                    const el = document.querySelector(`[data-field="${field}"]`);
                    if (el) el.classList.add('checked');
                });
                updateProgress();
            }
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', () => {
            loadSavedData();
            updateProgress();
        });
    </script>
</body>
</html>
